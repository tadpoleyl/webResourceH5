<div ng-style="{height:ltStagePage.$scope.viewHeight+'px'}"><!--ng-style="{height:(!ltStagePage.focusPage.height ? ltStagePage.$scope.viewHeight+'px':ltStagePage.focusPage.height)}"-->
    <audio ng-if="ltStageType==='1'" id="audio" loop="{{ltStagePage.global.APP.bgSound.loop}}" ng-src="{{ltStagePage.global.APP.bgSound.src}}" style="position:fixed;"></audio>
    <div class="lt-p-bg-music-play" ng-style="{background:'url('+ltStagePage.global.APP.bgSound.icoSrc+') no-repeat',backgroundPosition:ltStagePage.global.APP.bgSound.backgroundPosition}" play-music></div>
    <div class="lt-p-content {{ltStagePage.lastmodify}} lt-p-view" widget-type="page" id="{{ltStageType==='1'?'J-lt-p-screen-content':''}}" screen-content="{{ltStageType}}" ng-style="{opacity:ltStagePage.focusPage.styles['opacity']/100,backgroundImage:ltStagePage.focusPage.styles.animationName && ltStagePage.focusPage.styles.animationName !== 'none'?'':'url('+ltStagePage.focusPage.styles['background-image']+')',backgroundColor:ltStagePage.focusPage.styles['background-color'],backgroundSize:ltStagePage.focusPage.styles.backgroundSize,backgroundRepeat:ltStagePage.focusPage.styles.backgroundRepeat,backgroundPosition:ltStagePage.focusPage.styles.backgroundPosition}">
        <div class="ltp-bg"></div>
        <img ng-show="ltStagePage.focusPage.styles.animationName !== undefined && ltStagePage.focusPage.styles.animationName !== 'none'"
             ng-src="{{ltStagePage.focusPage.styles['background-image']}}" ng-style="{width:ltStagePage.focusPage.styles.animationName==='bgMoveX'+ltStagePage.focusPage.pageId?ltStagePage.focusPage.styles.bgwidth:'320px',height:ltStagePage.focusPage.styles.animationName==='bgMoveX'+ltStagePage.focusPage.pageId?ltStagePage.$scope.viewHeight+'px':ltStagePage.focusPage.styles.bgheight,position:'absolute',left:'0',top:'0',maxWidth:'none',webkitAnimationName:ltStagePage.focusPage.styles.animationName,animationName:ltStagePage.focusPage.styles.animationName,webkitAnimationDuration:ltStagePage.focusPage.styles.animationDuration+'s',animationDuration:ltStagePage.focusPage.styles.animationDuration+'s',webkitAnimationTimingFunction:ltStagePage.focusPage.styles.animationTimingFunction,animationTimingFunction:ltStagePage.focusPage.styles.animationTimingFunction,webkitAnimationIterationCount:ltStagePage.focusPage.styles.animationIterationCount,animationIterationCount:ltStagePage.focusPage.styles.animationIterationCount,animationDirection:ltStagePage.focusPage.styles.animationDirection?'alternate':'normal',webkitAnimationDirection:ltStagePage.focusPage.styles.animationDirection?'alternate':'normal'}" alt="" />
        <!--图片-->
        <div class='lt-p-{{img.index}}' ng-class="{true:'lt-widget lt-widget-image-container',false:''}[ltStageType==='1']" id="{{ltStageType==='1'?'lt-'+ltStagePage.focusPage.pageId+'-widget-image-container-'+$index:''}}" widget-type="{{ltStageType==='1'?'image':''}}" data-widgetindex={{img.widgetIndex}} ng-repeat="img in ltStagePage.focusPage.widgets | filter:{ type:'image'}" ng-style="{width:img.styles.width,height:img.styles.height,left:img.styles.left ,top:img.styles.top ,position:img.styles.position,zIndex:img.styles.zIndex,display:img.styles.display,right:img.styles.right,bottom:img.styles.bottom,opacity:img.styles.opacity/100}">
            <img style="border-radius:{{img.styles.borderRadius}}%;-webkit-transform:rotate({{img.styles.rotate}}deg);transform:rotate({{img.styles.rotate}}deg);border-style: {{img.styles.borderStyle}};border-width:{{img.styles.borderWidth}};border-color:{{img.styles.borderColor}};width:{{img.styles.width.split('rem')[0]>=10 ? '10rem':img.styles.width}};height:{{img.styles.height}};opacity:{{img.styles.opacity/100}};box-shadow:{{img.styles.boxShadow}};background-color:{{img.styles.backgroundColor}}" draggable="false" id="{{ltStageType==='1'?img.id:''}}" class="lt-widget-image" ng-src="{{img.src}}" alt="" />
        </div>
        <!--文本-->
        <div class='lt-p-{{text.index}}' ng-class="{true:'lt-widget lt-widget lt-widget-text-container',false:''}[ltStageType==='1']" data-widgetindex={{text.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-text-container-'+text.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'text':''}}" ng-repeat="text in ltStagePage.focusPage.widgets | filter:{ type:'text'}" ng-style="{width:text.styles.width,left:text.styles.left ,top:text.styles.top,position:text.styles.position,marginLeft:text.styles.marginLeft+'px',zIndex:text.styles.zIndex,right:text.styles.right,bottom:text.styles.bottom,display:text.styles.display,opacity:text.styles.opacity/100}">
            <p ng-bind-html="text.text | to_trusted" strip-br="true" select-non-editable="true" ng-style="{backgroundColor:text.styles.backgroundColor,color:text.styles.color,width:text.styles.width,lineHeight:text.styles.lineHeight+'px',fontSize:text.styles.fontSize,boxShadow:text.styles.boxShadow,webkitTransform:'rotate('+text.styles.rotate+'deg)',transform:'rotate('+text.styles.rotate+'deg)',textIndent:text.styles.textIndent,opacity:text.styles.opacity/100,height:text.styles.height,borderStyle:text.styles.borderStyle,borderWidth:text.styles.borderWidth,borderColor:text.styles.borderColor,borderRadius:text.styles.borderRadius+'%',textAlign:text.styles.textAlign,display:text.styles.display}" class="lt-widget-text" id="{{ltStageType==='1'?text.id:''}}" style="z-index:2;position:relative;outline:none;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;"></p>
            
        </div>
        <!--视频-->
        <div class='lt-p-{{video.index}}' ng-class="{true:'lt-widget lt-widget-video-container',false:''}[ltStageType==='1']" id="{{ltStageType==='1'?'lt-'+ltStagePage.focusPage.pageId+'-widget-video-container-'+$index:''}}" widget-type="{{ltStageType==='1'?'video':''}}" data-widgetindex={{video.widgetIndex}} ng-repeat="video in ltStagePage.focusPage.widgets | filter:{ type:'video'}" ng-style="{width:video.styles.width,height:video.styles.height,left:video.styles.left ,top:video.styles.top ,position:video.styles.position,zIndex:video.styles.zIndex,display:video.styles.display,right:video.styles.right,bottom:video.styles.bottom,display:video.styles.display}">
            <div style="position:absolute;z-index:3;text-align:center;color:black;line-height:{{video.styles.height}};-webkit-transform:rotate({{video.styles.rotate}}deg);transform:rotate({{video.styles.rotate}}deg);border-radius:{{video.styles.borderRadius}}%;border-style: {{video.styles.borderStyle}};border-width:{{video.styles.borderWidth}};border-color:{{video.styles.borderColor}};box-shadow:{{video.styles.boxShadow}};width:{{video.styles.width}};height:{{video.styles.height}};display:{{video.tipsDisplay}};background-color:#eee;" ng-bind=" video.tips"></div>
            <video id="{{ltStageType==='1'?video.id:''}}" style="z-index:2;-webkit-transform:rotate({{video.styles.rotate}}deg);transform:rotate({{video.styles.rotate}}deg);border-radius:{{video.styles.borderRadius}}%;border-style: {{video.styles.borderStyle}};border-width:{{video.styles.borderWidth}};border-color:{{video.styles.borderColor}};box-shadow:{{video.styles.boxShadow}};width:{{video.styles.width}};height:{{video.styles.height}};opacity:{{video.styles.opacity/100}};display:{{video.styles.display}};background-color:{{video.styles.backgroundColor }};" draggable="false" class="lt-widget-video" ng-src="{{video.src}}" preload="none" ng-attr-poster="{{video.poster}}" ng-attr-controls="{{video.controls}}">
                Your browser does not support HTML5 video.
            </video>
        </div>
        <!--音频-->
        <div class='lt-p-{{audio.index}}' ng-class="{true:'lt-widget lt-widget-audio-container',false:''}[ltStageType==='1']" data-widgetindex={{audio.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-audio-container-'+audio.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'audio':''}}" ng-repeat="audio in ltStagePage.focusPage.widgets | filter:{ type:'audio'}" ng-style="{width:audio.styles.width,height:audio.styles.height,left:audio.styles.left ,top:audio.styles.top,position:audio.styles.position,marginLeft:audio.styles.marginLeft+'px',zIndex:audio.styles.zIndex,right:audio.styles.right,bottom:audio.styles.bottom,display:audio.styles.display,opacity:audio.styles.opacity/100}">
            <img id="{{ltStageType==='1'?audio.id:''}}" ng-src="{{audio.src}}" ng-style="{width:audio.styles.width,height:audio.styles.height,left:audio.styles.left ,top:audio.styles.top,marginLeft:audio.styles.marginLeft+'px',zIndex:audio.styles.zIndex,right:audio.styles.right,bottom:audio.styles.bottom,display:audio.styles.display,opacity:audio.styles.opacity/100}" />
            <audio id="{{'lt-p-audio-'+audio.id}}" loop="{{audio.loop}}" ng-src="{{audio.picSrc}}" style="position:fixed;"></audio>
        </div>
        <!--图形-->
        <div class='lt-p-{{radius.index}}' ng-class="{true:'lt-widget lt-widget-radius-container',false:''}[ltStageType==='1']" data-widgetindex={{radius.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-radius-container-'+radius.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'radius':''}}" ng-repeat="radius in ltStagePage.focusPage.widgets | filter:{ type:'radius'}" ng-style="{width:radius.styles.width,height:radius.styles.height,left:radius.styles.left ,top:radius.styles.top,position:radius.styles.position,marginLeft:radius.styles.marginLeft+'px',opacity:radius.styles.opacity/100,zIndex:radius.styles.zIndex,right:radius.styles.right,bottom:radius.styles.bottom,display:radius.styles.display}">
            <div id="{{ltStageType==='1'?radius.id:''}}" ng-style="{width:radius.styles.width,height:radius.styles.height,opacity:radius.styles.opacity/100,backgroundColor:radius.styles.backgroundColor,color:radius.styles.color,borderRadius:radius.styles.borderRadius+'%',lineHeight:radius.styles.lineHeight+'px',webkitTransform:'rotate('+radius.styles.rotate+'deg)',transform:'rotate('+radius.styles.rotate+'deg)',textIndent:radius.styles.textIndent,borderRadius:radius.styles.borderRadius+'%',boxShadow:radius.styles.boxShadow,borderStyle:radius.styles.borderStyle,borderWidth:radius.styles.borderWidth,borderColor:radius.styles.borderColor}" class="lt-widget-radius" style="z-index:2;outline:none;"></div>
        </div>
        <div class='lt-p-{{ellipse.index}}' ng-class="{true:'lt-widget lt-widget-ellipse-container',false:''}[ltStageType==='1']" data-widgetindex={{ellipse.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-ellipse-container-'+ellipse.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'ellipse':''}}" ng-repeat="ellipse in ltStagePage.focusPage.widgets | filter:{ type:'ellipse'}" ng-style="{width:ellipse.styles.width,height:ellipse.styles.height,left:ellipse.styles.left ,top:ellipse.styles.top,position:ellipse.styles.position,opacity:ellipse.styles.opacity/100,marginLeft:ellipse.styles.marginLeft+'px',zIndex:ellipse.styles.zIndex,right:ellipse.styles.right,bottom:ellipse.styles.bottom,display:ellipse.styles.display}">
            <div id="{{ltStageType==='1'?ellipse.id:''}}" ng-style="{width:ellipse.styles.width,height:ellipse.styles.height,opacity:ellipse.styles.opacity/100,backgroundColor:ellipse.styles.backgroundColor,color:ellipse.styles.color,borderRadius:ellipse.styles.borderRadius+'%',lineHeight:ellipse.styles.lineHeight+'px',fontSize:ellipse.styles.fontSize,webkitTransform:'rotate('+ellipse.styles.rotate+'deg)',transform:'rotate('+ellipse.styles.rotate+'deg)',textIndent:ellipse.styles.textIndent,borderStyle:ellipse.styles.borderStyle,borderWidth:ellipse.styles.borderWidth,borderColor:ellipse.styles.borderColor,borderRadius:ellipse.styles.borderRadius+'%',boxShadow:ellipse.styles.boxShadow}" class="lt-widget-ellipse" style="z-index:2;outline:none;opacity:{{ellipse.styles.opacity/100}}"></div>
        </div>
        <div class='lt-p-{{rectangular.index}}' ng-class="{true:'lt-widget lt-widget-rectangular-container',false:''}[ltStageType==='1']" data-widgetindex={{rectangular.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-rectangular-container-'+rectangular.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'rectangular':''}}" ng-repeat="rectangular in ltStagePage.focusPage.widgets | filter:{ type:'rectangular'}" ng-style="{width:rectangular.styles.width,height:rectangular.styles.height,left:rectangular.styles.left ,top:rectangular.styles.top,position:rectangular.styles.position,marginLeft:rectangular.styles.marginLeft+'px',opacity:rectangular.styles.opacity/100,zIndex:rectangular.styles.zIndex,right:rectangular.styles.right,bottom:rectangular.styles.bottom,display:rectangular.styles.display}">
            <div id="{{ltStageType==='1'?rectangular.id:''}}" ng-style="{width:rectangular.styles.width,height:rectangular.styles.height,backgroundColor:rectangular.styles.backgroundColor,lineHeight:rectangular.styles.lineHeight+'px',fontSize:rectangular.styles.fontSize,webkitTransform:'rotate('+rectangular.styles.rotate+'deg)',transform:'rotate('+rectangular.styles.rotate+'deg)',textIndent:rectangular.styles.textIndent,borderStyle:rectangular.styles.borderStyle,borderWidth:rectangular.styles.borderWidth,borderColor:rectangular.styles.borderColor,color:rectangular.styles.color,borderRadius:rectangular.styles.borderRadius+'%',boxShadow:rectangular.styles.boxShadow,opacity:rectangular.styles.opacity/100}" class="lt-widget-rectangular" style="z-index:2;outline:none;"></div>
        </div>
        <div class='lt-p-{{line.index}}' ng-class="{true:'lt-widget lt-widget-line-container',false:''}[ltStageType==='1']" data-widgetindex={{line.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-line-container-'+line.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'line':''}}" ng-repeat="line in ltStagePage.focusPage.widgets | filter:{ type:'line'}" ng-style="{left:line.styles.left ,top:line.styles.top,position:line.styles.position,marginLeft:line.styles.marginLeft+'px',opacity:line.styles.opacity/100,zIndex:line.styles.zIndex,right:line.styles.right,bottom:line.styles.bottom,display:line.styles.display}">
            <svg id="{{ltStageType==='1'?line.id:''}}" class="lt-widget-line" ng-style="{width:line.styles.width,height:line.styles.height,opacity:line.styles.opacity/100,borderRadius:line.styles.borderRadius+'%',zIndex:line.styles.zIndex,right:line.styles.right,bottom:line.styles.bottom,display:line.styles.display,webkitTransform:'rotate('+line.styles.rotate+'deg)',transform:'rotate('+line.styles.rotate+'deg)'}">
                <polyline ng-attr-stroke="{{line.styles.backgroundColor}}" ng-attr-stroke-dasharray="{{line.styles.dasharray}} " stroke-width="{{line.styles.lineWidth}} " ng-attr-points="{{line.styles.points}}"></polyline>
            </svg>
        </div><!--外部微件-->
        <div class="lt-p-{{outweb.$index}}" ng-class="{true:'lt-widget lt-widget-outweb-container',false:''}[ltStageType==='1']" data-widgetindex={{outweb.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-outweb-container-'+outweb.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'outweb':''}}" ng-repeat="outweb in ltStagePage.focusPage.widgets | filter:{ type:'outweb'}" ng-style="{left:outweb.styles.left ,top:outweb.styles.top,position:outweb.styles.position,zIndex:outweb.styles.zIndex,right:outweb.styles.right,bottom:outweb.styles.bottom,display:outweb.styles.display,width:outweb.styles.width,height:outweb.styles.height,background:'url(static/ico/lt-p-outweb.png) no-repeat'}">
            <p id="{{ltStageType==='1'?outweb.id:''}}" ng-style="{width:outweb.styles.width,height:outweb.styles.height}" style="cursor:pointer;position:relative;z-index:0;overflow:hidden;"><span style="color:#fff;cursor:move;"></span><img widget-type="outweb" src="static/ico/lt-p-ico-tools_13.png" alt="" style="position: absolute; right: 0; bottom: 0; cursor: pointer; opacity:0;width:45px;height:36px;" /></p>
            <textarea name cols="" rows="" placeholder="请输入代码片段" ng-style="{width:'10rem',height:'4rem'}" ng-model="outweb.text" style="display:none; -o-transition:200ms ;-webkit-transition:200ms; transition:200ms"></textarea>
        </div>
        <!-- 幻灯片 -->
        <div class='lt-p-{{slider.index}}' ng-class="{true:'lt-widget lt-widget-slider-container',false:''}[ltStageType==='1']" lt-p-edit-slider="{{ltStageType}}" data-widgetindex={{slider.widgetIndex}} id="{{ltStageType==='1'?'lt-widget-slider-container-'+slider.widgetIndex:''}}" widget-type="{{ltStageType==='1'?'slider':''}}" ng-repeat="slider in ltStagePage.focusPage.widgets | filter:{ type:'slider'}" ng-style="{width:slider.styles.width,height:slider.styles.height,left:slider.styles.left ,top:slider.styles.top,position:slider.styles.position,marginLeft:slider.styles.marginLeft+'px',opacity:slider.styles.opacity/100,zIndex:slider.styles.zIndex,right:slider.styles.right,bottom:slider.styles.bottom,display:slider.styles.display}">
            <div id="{{ltStageType==='1'?slider.id:''}}" class="pt-perspective" ng-style="{width:slider.styles.width,height:slider.styles.height,overflow:'hidden'}">
                <div class="lt-page" ng-class="{true:'lt-page-current',false:''}[$index === 0]" ng-repeat="src in slider.src | orderBy:'index':false" ng-style="{width:slider.styles.width,height:slider.styles.height}">
                    <img ng-src="{{src.src}}" ng-style="{width:slider.styles.width,height:slider.styles.height}" />
                </div>
            </div>
        </div>
        <div ng-class="{true:'lt-widget lt-widget-qa-container',false:''}[ltStageType==='1']" id="{{ltStageType==='1'?'lt-'+qa.id:''}}" widget-type="{{ltStageType==='1'?'QA':''}}" ng-repeat="qa in ltStagePage.focusPage.widgets | filter:{type : 'QA'}">
            <p id="{{ltStageType==='1'?qa.id:''}}" ng-style="{width:'90px',height:'35px',background:'url(static/ico/lt-p-qa.png) no-repeat',cursor:'pointer',position:'relative',zIndex:0,overflow:'hidden'}"><span style="color:#fff;"></span></p>
        </div>
        <!--外部组件-->
        <div ng-class="{true:'lt-widget lt-widget-outtool-container',false:''}[ltStageType==='1']" id="{{ltStageType==='1'?lt-ot.id:''}}" data-widgetindex={{ot.widgetIndex}} widget-type="{{ltStageType==='1'?'outtool':''}}" ng-repeat="ot in ltStagePage.focusPage.widgets | filter:{type : 'outtool'}" ng-style="{left:ot.styles.left ,top:ot.styles.top,position:ot.styles.position,zIndex:ot.styles.zIndex}">
            <img ng-src="{{ot.thumbnail}}" alt="" id="{{ltStageType==='1'?ot.id:''}}" ng-style="{width:ot.styles.width,height:ot.styles.height,cursor:'pointer',position:'relative',zIndex:ot.styles.zIndex,overflow:'hidden'}" />
        </div>
        <operator item="textItem" lt-stage="ltStagePage"></operator>
    </div>
</div>
