define(function(b,a,c){var d={browerKernel:function(){var f;var e=["webkit","moz","o","ms"];for(var g=0;g<e.length;g++){if(typeof document[e[g]+"Hidden"]!="undefined"){f=e[g]}}return f},pageChange:function(g,e){var f=this.browerKernel();document.addEventListener&&document.addEventListener(f+"visibilitychange",function(h){if(document[f+"VisibilityState"]==="visible"){g.call(document)}else{if(document[f+"VisibilityState"]==="hidden"){e.call(document)}}})},loadImgByCanvas:function(n,h,m,l,p,o,j,g,k){var i=new Image();var f=h.getContext&&h.getContext("2d");if(f){var e=f.measureText("图片加载中,请稍等...").width;f.fillText("图片加载中,请稍等...",(h.width-e)/2,h.height/2)}i.onload=function(){p=p||1;o=o||1;h.width=j||this.width*p;h.height=g||this.height*o;if(h.getContext){f.clearRect(0,0,h.width,h.height);f.drawImage(this,m,l,h.width,h.height)}else{var q=document.createElement("img");q.src=n;q.id=h.id;q.width=j||this.width*p;q.height=g||this.height*o;document.body.appendChild(q);h.parentNode.replaceChild(q,h)}k&&k();return n};i.onerror=function(q){};i.src=n},loadImgByLocalStorage:function(k,i){var e=new Image();var g=document.createElement("canvas");var h=null;if(g.getContext){h=g.getContext("2d")}var f="",j="";e.onload=function(){if(h){h.canvas.width=this.width;h.canvas.height=this.height;h.drawImage(this,0,0,h.canvas.width,h.canvas.height);f=g.toDataURL()}if(window.localStorage){try{if(!localStorage.getItem(k)){localStorage.setItem(k,f)}if(localStorage.getItem(k)){j=localStorage.getItem(k)}else{j=k}}catch(l){j=k}}else{j=k}i&&i(j)};e.src=k},setCss3:function(j,e){for(var h in e){var f=h;if(f.indexOf("-")>0){var g=f.indexOf("-");f=f.replace(f.substr(g,2),f.substr(g+1,1).toUpperCase())}j.style[f]=e[h];f=f.replace(f.charAt(0),f.charAt(0).toUpperCase());j.style["webkit"+f]=e[h];j.style["moz"+f]=e[h];j.style["ms"+f]=e[h];j.style["o"+f]=e[h]}return j},isSupportTransition:function(){var e=document.createElement("div");return e.style.webkitTransition!==undefined||e.style.transition!==undefined||e.style.oTransition!==undefined||e.style.mozTransition!==undefined},isSupportTransform:function(){var e=document.createElement("div");return e.style.webkitTransform!==undefined||e.style.transform!==undefined||e.style.msTransform!==undefined||e.style.oTransform!==undefined||e.style.mozTransform!==undefined},requestAnimFrame:(function(){var f=0;var g=["webkit","moz","ms"];for(var e=0;e<g.length&&!window.requestAnimationFrame;++e){window.requestNextAnimationFrame=window[g[e]+"RequestAnimationFrame"];window.cancelNextAnimationFrame=window[g[e]+"CancelAnimationFrame"]||window[g[e]+"CancelRequestAnimationFrame"]}if(!window.requestNextAnimationFrame){window.requestNextAnimationFrame=function(l,i){var h=new Date().getTime();var j=Math.max(0,16.7-(h-f));var k=window.setTimeout(function(){l(h+j)},j);f=h+j;return k}}if(!window.cancelNextAnimationFrame){window.cancelNextAnimationFrame=function(h){clearTimeout(h)}}})(),ltLoading:function(e,r,v){if(e.length<=0){r();return}var t=(v&&v.id)?v.id:"linten_loading";var A=(v&&v.color)?v.color:"rgba(149,30,35,1)";var p=(v&&v.src)?v.src:"images/lt_loading.png";var g=(v&&v.isPicLogo===false)?v.isPicLogo:true;var q=document.createElement("canvas");if(!q.getContext){return}q.width=500;q.height=200;var k=q.getContext("2d");k.beginPath();var E=183,j=34,D=225,f=-2;k.moveTo(0,15);k.bezierCurveTo(E,j,D,f,q.width,27);k.lineTo(q.width,q.height);k.lineTo(0,q.height);k.closePath();k.fillStyle=A;k.fill();var m=document.createElement("canvas");var s=document.createElement("div");s.style.width="130px";s.style.textAlign="center";s.style.fontFamily="Georgia";m.width=129;m.height=43;var u=document.getElementById(t);if(!u){alert("容器id配置错误");return false}u.innerHTML="";u.appendChild(m);u.appendChild(s);var h=m.getContext("2d");var H=new Image();var J=new Image();var l=null;var w=null;h.globalCompositeOperation="destination-atop";var x=this;H.onload=function(){J.onload=function(){w=window.requestNextAnimationFrame(I)};J.src=p};H.src=q.toDataURL();var G=-320;var n=G;var C=e.length;var o=0;var B=0;F();function F(){if(B===C){return}var i=new Image();i.onload=function(){o++;if(B<C-1){B++;F()}};i.onerror=function(){o++;if(B<C-1){B++;F()}};i.src=e[B]}function I(){n+=8;if(n>0){n=G}h.clearRect(0,0,m.width,m.height);if(C>0){h.drawImage(H,n,20-36*(o/C));if(o/C>=1){window.cancelNextAnimationFrame(w);r&&r()}else{w=window.requestNextAnimationFrame(I)}}s.innerHTML=parseInt(o/C*100)+"%";h.drawImage(J,0,0)}},ltLoading2:function(f,k,p){var n=(p&&p.id)?p.id:"ltLoading";var j=(p&&(typeof p==="object")&&p.src)?p.src:"images/lt_loading1.png";var s=(p&&(typeof p==="object")&&p.color)?p.color:"#951e23";var o="#"+n+"{width: 430px;margin-top:50px;height: 20px;position: relative;border-radius:5px; border:1px solid "+s+";padding: 1px;box-sizing:border-box;}                #"+n+" span{width: 100%;height:100%;background: "+s+";border-radius: 5px;display: inline-block;}                #"+n+" div{width:0;height: 100%;position: absolute;left: 0;top:0;z-index: 1;background: #fff;border-radius: 5px 0 0 5px;text-align: right;line-height: 25px;}                #"+n+" div label{position: relative;top:-3px;color:"+s+"}                #"+n+" div img{position: absolute;top:-40px;}                @media all and (max-width: 480px) {                     #"+n+"{width:100%;}                }";var g=q(n);if(!g){alert("容器id配置错误");return false}var B=document;g.appendChild(B.createElement("span"));g.appendChild(B.createElement("div"));var l=q(n).getElementsByTagName("div")[0];l.appendChild(B.createElement("label"));var w=new Image();w.src=j;l.appendChild(w);var m=l.getElementsByTagName("label")[0];var v=B.createElement("style");B.getElementsByTagName("head")[0].appendChild(v);try{v.innerHTML=o}catch(x){alert("浏览器不支持此加载特效");return false}var u=f.length;var h=0;var t=0;A();function A(){if(t===u){return}var e=new Image();e.onload=function(){h++;if(t<u-1){t++;A()}r(h,u)};e.onerror=function(){h++;if(t<u-1){t++;A()}r(h,u)};e.src=f[t]}function r(e,C){if(e/C>0.1){m.innerHTML=parseInt(e/C)*100+"%"}l.style.width=(g.offsetWidth-85)*(e/C)+"px";if(e/C>=1){k&&typeof k==="function"&&k()}}function q(e){return document.getElementById(e)}},clearCache:function(e){e.onupdateready=function(){e.swapCache();location.href=location.href}},getStyle:function(f,e){return f.currentStyle?f.currentStyle[e]:getComputedStyle(f,false)[e]},startMove:function(j,o,e,i,n){var k={};var g=f();for(var m in o){k[m]=0;if(m==="opacity"){k[m]=Math.round(this.getStyle(j,m)*100)}else{if(m==="transformX"){k[m]=parseFloat(j.getAttribute("transX"))||0}else{if(m==="transformY"){k[m]=parseFloat(j.getAttribute("transY"))||0}else{if(m==="scale"){k[m]=parseFloat(j.getAttribute("scale"))||0}else{k[m]=parseInt(this.getStyle(j,m))||0}}}}}window.cancelNextAnimationFrame(j.timer);j.timer=window.requestNextAnimationFrame(h);function f(){return(new Date()).getTime()}var l=this;function h(){var q=f();var t=1-Math.max(0,g-q+e)/e;for(var p in o){var s=ltTween[i](t*e,parseFloat(k[p]),parseFloat(o[p])-parseFloat(k[p]),e);switch(p.toLowerCase()){case"opacity":j.style.filter="alpha(oapcity="+s+")";j.style.opacity=s/100;break;case"scrollTop":document.body.scrollTop=s;document.documentElement.scrollTop=s;break;case"width":case"height":case"left":case"top":case"bottom":case"right":if(o[p].toString().indexOf("%")>-1){j.style[p]=s+"%"}else{j.style[p]=s+"px"}break;case"backgroundposition":if(o[p].toString().indexOf("%")>-1){j.style[p]=s+"%"}else{j.style[p]=s}break;case"transformx":j.setAttribute("transX",s);var r="px";if(o[p].toString().indexOf("%")>-1){r="%"}l.setCss3(j,{transform:"translateX("+s+""+r+")"});break;case"transformy":j.setAttribute("transY",s);var r="px";if(o[p].toString().indexOf("%")>-1){r="%"}l.setCss3(j,{transform:"translateY("+s+""+r+")"});break;case"scale":j.setAttribute("scale",s);l.setCss3(j,{transform:"scale("+s+")"});break}}if(t===1){window.cancelNextAnimationFrame(j.timer);n&&typeof n==="function"&&n.call(j)}else{j.timer=window.requestNextAnimationFrame(h)}}},getXYByElement:function(e){var g=0,f=0;while(e.offsetParent){g+=e.offsetLeft;f+=e.offsetTop;e=e.offsetParent}return{left:g,top:f}},isWeiXin:function(){var e=window.navigator.userAgent.toLowerCase();return e.match(/MicroMessenger/i)=="micromessenger"},imgLoader:function(f,h){var e=f.length;var j=0;var g=0;k();function k(){if(g===e){return}var i=new Image();i.onload=function(){j++;if(g<e-1){g++;k()}if(j/e>=1){h&&h()}};i.onerror=function(){j++;if(g<e-1){g++;k()}if(j/e>=1){h&&h()}};i.src=f[g]}},shake:function(i,h){h=h||1000;var f=0;var e=y=z=last_x=last_y=last_z=0;if(window.DeviceMotionEvent){window.addEventListener("devicemotion",g,false)}function g(l){var k=l.accelerationIncludingGravity;var n=new Date().getTime();if((n-f)>100){var j=n-f;f=n;e=k.x;y=k.y;z=k.z;var m=Math.abs(e+y+z-last_x-last_y-last_z)/j*10000;if(m>h){i&&i()}last_x=e;last_y=y;last_z=z}}},isNumber:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},flyParticle:function(h){var i=function(k){var l=this;l.x=k.x;l.y=k.y};var f=document.getElementById(h.canvas);var j=document.getElementById(h.canvas1);e(h.w,h.h,function(w){f.style.opacity=1;f.width=h.w;f.height=h.h;g(f);g(j);var n=f.getContext("2d");var A=[];var p=Math;for(var t=0;t<w.length;t++){var B=q(-5,5);var v=w[t].x+q(-2,2)*h.w,u=w[t].y+q(-2,2)*h.h;A.push({x:v,y:u});if(h.pointsStyle instanceof Array){var r=h.pointsStyle[p.ceil(p.random()*h.pointsStyle.length-1)]}else{r=h.pointsStyle}n.fillStyle=r;n.beginPath();n.arc(v,u,p.random(),0,p.PI*2,false);n.closePath();n.fill()}var l=null;o(A,w,h.duration||800,"easeOut",function(){j.style.opacity=1;f.style.opacity=0});function o(H,F,m,D,G){var E=F.length;var x=s();l=window.requestNextAnimationFrame(C);function C(){n.clearRect(0,0,f.width,f.height);var J=s();var N=1-Math.max(0,x-J+m)/m;var K=0;for(;K<E;K++){var M=ltTween[D](N*m,parseFloat(H[K]["x"]),parseFloat(F[K]["x"])-parseFloat(H[K]["x"]),m);var L=ltTween[D](N*m,parseFloat(H[K]["y"]),parseFloat(F[K]["y"])-parseFloat(H[K]["y"]),m);if(h.pointsStyle instanceof Array){var I=h.pointsStyle[p.ceil(p.random()*h.pointsStyle.length-1)]}else{I=h.pointsStyle}n.fillStyle=I;n.beginPath();n.arc(M,L,p.random()*2,0,p.PI*2,false);n.closePath();n.fill()}if(N>0.8){G&&G();G=null}if(N===1){window.cancelNextAnimationFrame(l)}else{l=window.requestNextAnimationFrame(C)}}function s(){return(new Date()).getTime()}}function q(s,m){return(s+Math.floor(Math.random()*(m-s+1)))}function k(){return(new Date()).getTime()}});function e(l,o,n){var k=j.getContext("2d");j.width=l;j.height=o;switch(h.type){case"image":var m=new Image();m.onload=function(){k.drawImage(this,0,0,l,o);var u=k.getImageData(0,0,j.width,j.height).data;var t=[],p=0,s=0,r=8;for(var q=0;q<u.length;q+=(4*r)){if(u[q+3]>0){t.push(new i({x:p,y:s}))}p+=r;if(p>=j.width){p=0;s+=r;q+=r*4*j.width}}n&&n(t,m)};m.src=h.aString;break;case"text":break}}function g(k){h.isNeedBackBg&&(k.style.background="#000");k.style.position="absolute";k.style.left=0;k.style.top=0;k.style.WebkitTransition=".8s opacity";k.style.transition=".8s opacity"}}};Array.prototype.unique=function(){var g=[];var f={};for(var e=0;e<this.length;e++){if(!f[this[e]]){g.push(this[e]);f[this[e]]=1}}return g};Array.prototype.clear=function(){this.length=0};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};!function(e){var f={linear:function(h,g,j,i){return j*h/i+g},easeIn:function(h,g,j,i){return j*(h/=i)*h+g},easeOut:function(h,g,j,i){return -j*(h/=i)*(h-2)+g},easeBoth:function(h,g,j,i){if((h/=i/2)<1){return j/2*h*h+g}return -j/2*((--h)*(h-2)-1)+g},easeInStrong:function(h,g,j,i){return j*(h/=i)*h*h*h+g},easeOutStrong:function(h,g,j,i){return -j*((h=h/i-1)*h*h*h-1)+g},easeBothStrong:function(h,g,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+g}return -j/2*((h-=2)*h*h*h-2)+g},elasticIn:function(i,g,m,l,h,k){if(i===0){return g}if((i/=l)==1){return g+m}if(!k){k=l*0.3}if(!h||h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return -(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+g},elasticOut:function(i,g,m,l,h,k){if(i===0){return g}if((i/=l)==1){return g+m}if(!k){k=l*0.3}if(!h||h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return h*Math.pow(2,-10*i)*Math.sin((i*l-j)*(2*Math.PI)/k)+m+g},elasticBoth:function(i,g,m,l,h,k){if(i===0){return g}if((i/=l/2)==2){return g+m}if(!k){k=l*(0.3*1.5)}if(!h||h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}if(i<1){return -0.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+g}return h*Math.pow(2,-10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k)*0.5+m+g},backIn:function(h,g,k,j,i){if(typeof i=="undefined"){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+g},backOut:function(h,g,k,j,i){if(typeof i=="undefined"){i=3.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+g},backBoth:function(h,g,k,j,i){if(typeof i=="undefined"){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+g}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+g},bounceIn:function(h,g,j,i){return j-f.bounceOut(i-h,0,j,i)+g},bounceOut:function(h,g,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+g}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+g}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+g}}}return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+g},bounceBoth:function(h,g,j,i){if(h<i/2){return f.bounceIn(h*2,0,j,i)*0.5+g}return f.bounceOut(h*2-i,0,j,i)*0.5+j*0.5+g}};e.ltTween=f}(window);return d});